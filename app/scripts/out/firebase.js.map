{"version":3,"sources":["app/scripts/firebase.js"],"names":[],"mappings":";;IAAqB,YAAY;MAAZ,YAAY,GACrB,SADS,YAAY,GACnB;AACZ,QAAI,CAAC,EAAE,GAAG,IAAI,QAAQ,CAAC,6CAA6C,CAAC,CAAC;AACtE,WAAO,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;GACrB;;AAJmB,cAAY,WAMhC,IAAI,GAAA,UAAC,IAAI,EAAC,EAAE,EAAC;AACZ,QAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,EAAC,UAAC,QAAQ,EAAK;AAC7C,QAAE,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC,CAAC;KACnB,CAAC,CAAC;GACH;;AAVmB,cAAY,WAYhC,MAAM,GAAA,UAAC,IAAI,EAAC,EAAE,EAAC;AACd,WAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;AAClB,QAAI,IAAI,GAAG,IAAI,CAAC;;AAEhB,QAAI,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,EAAC,UAAC,QAAQ,EAAK;AAClC,cAAQ,CAAC,OAAO,CAAC,UAAC,CAAC,EAAG;AACrB,YAAG,CAAC,CAAC,GAAG,EAAE,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,EAAC;AAC7B,cAAI,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM,CAAC,UAAC,GAAG,EAAG;AACpC,gBAAG,CAAC,GAAG,EAAC;AACP,gBAAE,EAAE,CAAC;aACL;WACD,CAAC,CAAC;SACH;OACD,CAAC,CAAC;KACH,CAAC,CAAC;GACH;;AA3BmB,cAAY,WA6BhC,WAAW,GAAA,UAAC,QAAQ,EAAC;AACpB,QAAI,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,EAAC,UAAC,QAAQ,EAAK;AAClC,cAAQ,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC,CAAC;KACzB,CAAC,CAAA;GACF;;AAjCmB,cAAY,WAmChC,aAAa,GAAA,UAAC,QAAQ,EAAC;AACtB,QAAI,GAAG,GAAG,EAAE,CAAC;AACb,QAAI,CAAC,WAAW,CAAC,UAAC,IAAI,EAAG;AACxB,WAAI,IAAI,CAAC,IAAI,IAAI,EAAC;AACjB,YAAI,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,SAAS,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;OACrD;AACD,cAAQ,CAAC,GAAG,CAAC,CAAC;KACd,CAAC,CAAC;GACH;;SA3CmB,YAAY;;;qBAAZ,YAAY","file":"app/scripts/firebase.js","sourcesContent":["export default class FirebaseData{\r\n\tconstructor(){\r\n\t\tthis.db = new Firebase('https://my-google-book.firebaseio.com/books');\r\n\t\tconsole.log(this.db);\r\n\t}\r\n\r\n\tsave(data,cb){\r\n\t\tthis.db.push(data).once('value',(snapshot) => {\r\n\t\t\tcb(snapshot.val());\r\n\t\t});\r\n\t}\r\n\r\n\tremove(data,cb){\r\n\t\tconsole.log(data);\r\n\t\tlet self = this;\r\n\t\t//let item = this.db.child('isbn/'+data.isbn);\r\n\t\tthis.db.once('value',(snapshot) => {\r\n\t\t\tsnapshot.forEach((e)=>{\r\n\t\t\t\tif(e.val().isbn === data.isbn){\r\n\t\t\t\t\tself.db.child(e.key()).remove((err)=>{\r\n\t\t\t\t\t\tif(!err){\r\n\t\t\t\t\t\t\tcb();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tgetAllBooks(callback){\r\n\t\tthis.db.once('value',(snapshot) => {\r\n\t\t\tcallback(snapshot.val());\r\n\t\t})\r\n\t}\r\n\r\n\tgetLikedBooks(callback){\r\n\t\tvar arr = [];\r\n\t\tthis.getAllBooks((data)=>{\r\n\t\t\tfor(let i in data){\r\n\t\t\t\tdata[i].isbn !== undefined && arr.push(data[i].isbn);\r\n\t\t\t}\r\n\t\t\tcallback(arr);\r\n\t\t});\r\n\t}\r\n} "]}