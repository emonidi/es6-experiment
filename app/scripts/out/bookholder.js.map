{"version":3,"sources":["app/scripts/bookholder.js"],"names":[],"mappings":";;IAAO,eAAe;IACD,UAAU;MAAV,UAAU,GACnB,SADS,UAAU,GACjB;AACZ,QAAI,CAAC,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;AACjD,QAAI,CAAC,EAAE,GAAI,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;AACxC,QAAI,CAAC,EAAE,CAAC,YAAY,CAAC,OAAO,EAAC,YAAY,CAAC,CAAC;AAC3C,QAAI,CAAC,QAAQ,GAAI,QAAQ,CAAC,sBAAsB,EAAE,CAAC;AACnD,QAAI,CAAC,MAAM,GAAI,IAAI,SAAS,EAAE,CAAC;AAC/B,QAAI,CAAC,MAAM,GAAG,IAAI,eAAe,EAAE,CAAC;GACpC;;AARmB,YAAU,WAU9B,UAAU,GAAA,UAAC,KAAK,EAAC;AAChB,QAAI,CAAC,UAAU,EAAE,CAAC;;yBAEF,KAAK,CAAC,KAAK;UAAnB,IAAI;AACX,UAAI,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC;AAC3B,UAAI,UAAU,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;;AAE7C,UAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;;;AAIvC,QAAI,CAAC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;;;;GAKnC;;AA1BmB,YAAU,WA4B9B,UAAU,GAAA,YAAE;AACX,QAAI,CAAC,EAAE,CAAC,SAAS,GAAG,EAAE,CAAC;AACvB,QAAI,CAAC,EAAE,CAAC,SAAS,GAAG,EAAE,CAAC;AACvB,QAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,EAAE,CAAC;GAC7B;;AAhCmB,YAAU,WAkC9B,gBAAgB,GAAA,UAAC,IAAI,EAAC;AACrB,QAAI,KAAK,GAAG,EAAE,CAAC;AACf,QAAI,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACxC,OAAG,CAAC,YAAY,CAAC,OAAO,EAAC,yCAAyC,CAAC,CAAC;AACpE,QAAI,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,EAAC,EAAE,CAAC,GAAG,SAAS,CAAC;AAC7D,QAAG,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,EAAC;AAC/C,UAAI,GAAG,GAAG,0CAA0C,CAAC;AACrD,aAAO,CAAC,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,QAAQ,EAAC,QAAQ,CAAC,CAAC,CAAC;AAC5C,UAAI,CAAC,UAAU,CAAC,SAAS,CAAC,OAAO,CAAC,QAAQ,EAAC,QAAQ,CAAC,CAAC;AACrD,aAAO,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAA;AACtC,WAAK,GAAG,uBAAqB,GAC1B,kBAAiB,GAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,OAAO,CAAC,QAAQ,EAAC,QAAQ,CAAC,GAAC,uCAAoC,GAC3G,yBAAuB,GAAC,KAAK,GAAC,QAAQ,GACvC,QAAQ,CAAC;KACX,MAAI;AACJ,WAAK,GAAG,uBAAqB,GAC1B,4DAAwD,GACxD,yBAAuB,GAAC,KAAK,GAAC,QAAQ,GACtC,QAAQ,CAAC;KAEZ;;;;AAID,OAAG,CAAC,SAAS,GAAG,KAAK,CAAA;AACrB,QAAI,CAAC,MAAM,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;AAC5B,WAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA;AAChB,WAAO,GAAG,CAAC;GACX;;SA9DmB,UAAU;;;qBAAV,UAAU","file":"app/scripts/bookholder.js","sourcesContent":["import LazyImageLoader from '/lazyimageloader';\r\nexport default class BookHolder{\r\n\tconstructor(){\r\n\t\tthis.el = document.querySelector('#book-holder');\r\n\t\tthis.ul =  document.createElement('ul');\r\n\t\tthis.ul.setAttribute('class','list-group');\r\n\t\tthis.fragment =  document.createDocumentFragment();\r\n\t\tthis.parser  = new DOMParser();\r\n\t\tthis.loader = new LazyImageLoader();\r\n\t}\r\n\r\n\tappendList(items){\r\n\t\tthis.clearBooks();\r\n\r\n\t\tfor(var item of items.items){\r\n\t\t\tlet info = item.volumeInfo;\r\n\t\t\tlet htmlString = this.listItemTemplate(info);\r\n\t\t\t\r\n\t\t\tthis.fragment.appendChild(htmlString);\r\n\r\n\t\t}\r\n\t\t\r\n\t\tthis.el.appendChild(this.fragment);\r\n\t\t\r\n\t\t\r\n\r\n\t\t\r\n\t}\r\n\r\n\tclearBooks(){\r\n\t\tthis.ul.innerHTML = '';\r\n\t\tthis.el.innerHTML = '';\r\n\t\tthis.fragment.innerHTML = '';\r\n\t}\r\n\r\n\tlistItemTemplate(item){\r\n\t\tlet image = '';\r\n\t\tlet div = document.createElement('div');\r\n\t\tdiv.setAttribute('class','col-md-3 col-sm-6 col-xs-12 text-center');\r\n\t\tlet title = item.title ? item.title.substr(0,30) : \"unknown\";\r\n\t\tif(item.imageLinks && item.imageLinks.thumbnail){\r\n\t\t\tlet str = ';lkasd;lkas;ldkas?zoom=1&a;lskda;lskdals';\r\n\t\t\tconsole.log(str.replace('zoom=1','zoom=2'));\r\n\t\t\titem.imageLinks.thumbnail.replace('zoom=1','zoom=2');\r\n\t\t\tconsole.log(item.imageLinks.thumbnail)\r\n\t\t\timage = '<div class=\"thumb\">'+\r\n\t\t\t\t\t\t'<img data-src=\"'+item.imageLinks.thumbnail.replace('zoom=1','zoom=2')+'\"  src=\"../images/book-icon.png\"/>'+\r\n\t\t\t\t\t\t'<div class=\"caption\">'+title+'</div>'+\r\n\t\t\t\t\t'</div>';\r\n\t\t}else{\r\n\t\t\timage = '<div class=\"thumb\">'+\r\n\t\t\t\t\t\t'<img src=\"../images/book-icon.png\" class=\"book-icon\"/>'+\r\n\t\t\t\t\t\t'<div class=\"caption\">'+title+'</div>'+\r\n\t\t\t\t\t '</div>';\r\n\r\n\t\t}\r\n\t\t\r\n\r\n\r\n\t\tdiv.innerHTML = image\r\n\t\tthis.loader.loadImages(div);\r\n\t\tconsole.log(div)\r\n\t\treturn div;\r\n\t}\r\n}"]}